<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¡çœ éŸ³ä¹</title>
    <!-- ä½¿ç”¨ Tailwind CSS åŠ é€Ÿæ ·å¼å¼€å‘ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            /* æŸ”å’Œçš„æµ…ç²‰è‰²ç³»æ¸å˜ */
            background: linear-gradient(135deg, #fce7f3, #fbcfe8);
            background-attachment: fixed;
        }
        
        /* è‡ªå®šä¹‰æ»‘å—æ ·å¼ */
        input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 8px;
            background: #f472b6;
            border-radius: 5px;
            outline: none;
            transition: background 0.3s ease;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #ec4899;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 5px rgba(236, 72, 153, 0.5);
            transition: background 0.3s ease, transform 0.3s ease;
        }
        
        input[type="range"]::-webkit-slider-thumb:hover {
            background: #db2777;
            transform: scale(1.1);
        }
        
        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #ec4899;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 5px rgba(236, 72, 153, 0.5);
            transition: background 0.3s ease, transform 0.3s ease;
        }

        .mood-icon {
            font-size: 2.5rem;
            cursor: pointer;
            transition: transform 0.2s, filter 0.2s;
            filter: grayscale(100%);
        }

        .mood-icon.selected {
            transform: scale(1.2);
            filter: grayscale(0%);
        }
    </style>
</head>
<body class="text-gray-800 min-h-screen flex items-center justify-center p-4">
    <div class="bg-white bg-opacity-70 p-8 rounded-3xl shadow-2xl max-w-xl w-full text-center border border-pink-200 backdrop-blur-sm relative">
        <h1 class="text-4xl font-extrabold mb-2 text-pink-700">åŠ©çœ éŸ³ä¹</h1>
        <p class="text-pink-500 mb-6">é€‰æ‹©ä¸€é¦–æ­Œæ›²ï¼Œè®©èº«å¿ƒæ”¾æ¾</p>
        
        <!-- éŸ³ä¹åˆ†ç±»æ ‡ç­¾ -->
        <div class="flex justify-center space-x-3 mb-6">
            <button class="category-btn p-2 rounded-full text-sm font-medium transition-colors duration-200" data-category="all">å…¨éƒ¨</button>
            <button class="category-btn p-2 rounded-full text-sm font-medium transition-colors duration-200" data-category="piano">è½»æŸ”é’¢ç´</button>
            <button class="category-btn p-2 rounded-full text-sm font-medium transition-colors duration-200" data-category="nature">è‡ªç„¶éŸ³æ•ˆ</button>
        </div>

        <!-- æ­Œæ›²åˆ—è¡¨å®¹å™¨ -->
        <div id="musicList" class="space-y-3 mb-8 max-h-60 overflow-y-auto pr-2">
            <!-- æ­Œæ›²é¡¹å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
        </div>

        <!-- æ’­æ”¾å™¨æ§åˆ¶é¢æ¿ -->
        <div id="playerControls" class="flex flex-col items-center p-4 bg-pink-100 bg-opacity-50 rounded-2xl shadow-inner">
            <div id="songTitle" class="text-xl font-semibold mb-2 text-pink-800 truncate w-full">æœªé€‰æ‹©æ­Œæ›²</div>
            <div id="progressBar" class="w-full h-2 bg-pink-200 rounded-full mb-4 cursor-pointer">
                <div id="progressFill" class="h-2 bg-gradient-to-r from-pink-400 to-pink-600 rounded-full transition-all duration-100 ease-linear" style="width: 0%;"></div>
            </div>
            
            <div class="flex items-center space-x-6">
                <!-- ä¸Šä¸€é¦–æŒ‰é’® -->
                <button id="prevButton" class="text-pink-500 hover:text-pink-700 transition-colors duration-200 focus:outline-none transform hover:scale-110">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/>
                    </svg>
                </button>
                <!-- æ’­æ”¾/æš‚åœæŒ‰é’® -->
                <button id="playPauseButton" class="bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 transition-all duration-300 text-white font-bold p-4 rounded-full shadow-lg transform hover:scale-110 focus:outline-none focus:ring-4 focus:ring-pink-500 focus:ring-opacity-50">
                    <svg id="playIcon" xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M8 5v14l11-7z"/>
                    </svg>
                    <svg id="pauseIcon" xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 hidden" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
                    </svg>
                </button>
                <!-- ä¸‹ä¸€é¦–æŒ‰é’® -->
                <button id="nextButton" class="text-pink-500 hover:text-pink-700 transition-colors duration-200 focus:outline-none transform hover:scale-110">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M18 6l-8.5 6 8.5 6zM6 6h2v12H6z"/>
                    </svg>
                </button>
            </div>
            
            <!-- éŸ³é‡æ§åˆ¶ -->
            <div class="mt-6 w-full flex items-center space-x-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-pink-500" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
                </svg>
                <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="0.5">
            </div>
        </div>

        <!-- ç¡çœ æ—¥è®°æŒ‰é’® -->
        <button id="journalButton" class="w-full mt-6 py-3 px-6 rounded-full bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-bold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-opacity-50">
            è®°å½•æˆ‘çš„ç¡çœ 
        </button>
    </div>

    <!-- ç¡çœ æ—¥è®°æ¨¡æ€æ¡† -->
    <div id="journalModal" class="fixed inset-0 bg-pink-950 bg-opacity-75 flex items-center justify-center hidden p-4">
        <div class="bg-pink-900 bg-opacity-80 p-6 rounded-3xl shadow-2xl max-w-sm w-full relative">
            <button id="closeModalBtn" class="absolute top-4 right-4 text-pink-400 hover:text-white">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
            <h2 class="text-2xl font-bold mb-4 text-pink-400">è®°å½•ç¡çœ </h2>
            
            <div class="flex justify-around mb-6">
                <div class="flex flex-col items-center">
                    <span class="mood-icon" data-mood="sad">ğŸ˜”</span>
                    <span class="text-pink-300 text-xs mt-1">éš¾è¿‡</span>
                </div>
                <div class="flex flex-col items-center">
                    <span class="mood-icon" data-mood="calm">ğŸ˜Œ</span>
                    <span class="text-pink-300 text-xs mt-1">å¹³é™</span>
                </div>
                <div class="flex flex-col items-center">
                    <span class="mood-icon" data-mood="happy">ğŸ˜Š</span>
                    <span class="text-pink-300 text-xs mt-1">å¼€å¿ƒ</span>
                </div>
            </div>

            <p class="text-pink-300 text-sm mb-2">ç¡çœ è´¨é‡å¦‚ä½•ï¼Ÿ</p>
            <textarea id="sleepNote" class="w-full p-3 rounded-lg bg-pink-950 text-white border border-pink-800 focus:outline-none focus:ring-2 focus:ring-pink-500 transition-all" rows="3" placeholder="ä¾‹å¦‚ï¼šç¡å¾—å¾ˆå¥½ï¼Œä½†é†’æ¥äº†ä¸€æ¬¡ã€‚"></textarea>

            <button id="saveJournalBtn" class="w-full mt-4 py-3 rounded-full bg-pink-500 text-white font-bold hover:bg-pink-600 transition-colors duration-300">
                ä¿å­˜è®°å½•
            </button>
        </div>
    </div>

    <!-- ç¡çœ æ—¥è®°åˆ—è¡¨æ¨¡æ€æ¡† -->
    <div id="journalListModal" class="fixed inset-0 bg-pink-950 bg-opacity-75 flex items-center justify-center hidden p-4">
        <div class="bg-pink-900 bg-opacity-80 p-6 rounded-3xl shadow-2xl max-w-md w-full relative">
            <button id="closeListModalBtn" class="absolute top-4 right-4 text-pink-400 hover:text-white">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
            <h2 class="text-2xl font-bold mb-4 text-pink-400">æˆ‘çš„ç¡çœ æ—¥è®°</h2>
            <div id="journalEntries" class="space-y-4 max-h-72 overflow-y-auto pr-2">
                <!-- æ—¥è®°æ¡ç›®å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // å®šä¹‰éŸ³ä¹æ•°æ®ï¼Œç°åœ¨ä½¿ç”¨çœŸå®çš„éŸ³é¢‘æ–‡ä»¶URL
            const musicData = [
                { title: "å®é™æµ·æ´‹", category: "nature", url: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" },
                { title: "é›¨å¤œè½»è¯­", category: "nature", url: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" },
                { title: "æ·±æ—å¾®é£", category: "nature", url: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3" },
                { title: "æ˜Ÿå…‰æ¼«æ­¥", category: "piano", url: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" },
                { title: "æ¢¦å¢ƒæ¶Ÿæ¼ª", category: "piano", url: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3" },
                { title: "é™è°§å°è°ƒ", category: "piano", url: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-6.mp3" },
                { title: "å†¥æƒ³ä¹‹æ—…", category: "meditation", url: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-7.mp3" }
            ];

            // æ¨¡æ‹Ÿç¡çœ æ—¥è®°æ•°æ®å­˜å‚¨
            let journalEntries = [];

            // è·å– DOM å…ƒç´ 
            const musicList = document.getElementById('musicList');
            const playPauseButton = document.getElementById('playPauseButton');
            const playIcon = document.getElementById('playIcon');
            const pauseIcon = document.getElementById('pauseIcon');
            const prevButton = document.getElementById('prevButton');
            const nextButton = document.getElementById('nextButton');
            const volumeSlider = document.getElementById('volumeSlider');
            const songTitle = document.getElementById('songTitle');
            const progressBar = document.getElementById('progressBar');
            const progressFill = document.getElementById('progressFill');
            const categoryButtons = document.querySelectorAll('.category-btn');
            const journalButton = document.getElementById('journalButton');
            const journalModal = document.getElementById('journalModal');
            const closeModalBtn = document.getElementById('closeModalBtn');
            const moodIcons = document.querySelectorAll('.mood-icon');
            const sleepNote = document.getElementById('sleepNote');
            const saveJournalBtn = document.getElementById('saveJournalBtn');
            const journalListModal = document.getElementById('journalListModal');
            const closeListModalBtn = document.getElementById('closeListModalBtn');
            const journalEntriesList = document.getElementById('journalEntries');

            // åˆå§‹åŒ–éŸ³ä¹ç›¸å…³çš„å˜é‡
            let currentMusicIndex = -1;
            let isPlaying = false;
            let audioPlayer = new Audio();
            
            // æ¸²æŸ“éŸ³ä¹åˆ—è¡¨
            function renderMusicList(category = 'all') {
                musicList.innerHTML = ''; // æ¸…ç©ºåˆ—è¡¨
                const filteredMusic = category === 'all' 
                    ? musicData 
                    : musicData.filter(song => song.category === category);
                
                if (filteredMusic.length === 0) {
                    musicList.innerHTML = `<p class="text-pink-600 text-center py-8">è¯¥åˆ†ç±»ä¸‹æš‚æ— æ­Œæ›²</p>`;
                    return;
                }

                filteredMusic.forEach((song, index) => {
                    const button = document.createElement('button');
                    button.textContent = song.title;
                    button.className = "w-full text-lg font-medium p-4 rounded-xl bg-pink-100 hover:bg-pink-200 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-opacity-50 shadow-md text-pink-800";
                    button.dataset.index = musicData.findIndex(s => s.title === song.title); // è·å–åŸå§‹ç´¢å¼•
                    musicList.appendChild(button);
                });
            }
            
            // åˆå§‹åŒ–æ—¶æ¸²æŸ“æ‰€æœ‰æ­Œæ›²
            renderMusicList();
            
            // é»˜è®¤é€‰ä¸­â€œå…¨éƒ¨â€ç±»åˆ«æŒ‰é’®
            document.querySelector('.category-btn[data-category="all"]').classList.add('bg-pink-600', 'text-white');
            
            // æ›´æ–°æ’­æ”¾æŒ‰é’®çš„çŠ¶æ€
            function updatePlayButton() {
                if (isPlaying) {
                    playIcon.classList.add('hidden');
                    pauseIcon.classList.remove('hidden');
                } else {
                    playIcon.classList.remove('hidden');
                    pauseIcon.classList.add('hidden');
                }
            }

            // æ’­æ”¾æŒ‡å®šç´¢å¼•çš„æ­Œæ›²
            function playMusic(index) {
                // è¿™æ˜¯ä¿®å¤æ’­æ”¾é”™è¯¯çš„å…³é”®éƒ¨åˆ†ã€‚
                // 1. å¦‚æœå½“å‰æœ‰æ­Œæ›²æ­£åœ¨æ’­æ”¾ï¼Œå…ˆæš‚åœå®ƒã€‚
                if (!audioPlayer.paused) {
                    audioPlayer.pause();
                }

                currentMusicIndex = index;
                const song = musicData[currentMusicIndex];
                
                // ç«‹å³æ›´æ–°æ­Œæ›²æ ‡é¢˜ï¼Œå‘ŠçŸ¥ç”¨æˆ·æ–°æ­Œæ­£åœ¨åŠ è½½
                songTitle.textContent = `${song.title} (æ­£åœ¨åŠ è½½...)`;
                
                // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„é€‰ä¸­çŠ¶æ€
                document.querySelectorAll('#musicList button').forEach(btn => {
                    btn.classList.remove('bg-pink-600', 'ring-2', 'ring-pink-500');
                    btn.classList.add('bg-pink-100');
                });
                
                // ç»™å½“å‰æ­Œæ›²æŒ‰é’®æ·»åŠ é€‰ä¸­çŠ¶æ€
                const currentButton = document.querySelector(`[data-index='${index}']`);
                if(currentButton) {
                    currentButton.classList.add('bg-pink-600', 'ring-2', 'ring-pink-500');
                    currentButton.classList.remove('bg-pink-100');
                }
                
                // è®¾ç½®æ–°çš„éŸ³é¢‘æº
                audioPlayer.src = song.url;
                
                // åªæœ‰å½“æ–°éŸ³é¢‘æ–‡ä»¶å¯ä»¥æ’­æ”¾æ—¶æ‰è°ƒç”¨ play()ï¼Œè¿™è§£å†³äº†"play()è¢«pause()æ‰“æ–­"çš„é”™è¯¯
                audioPlayer.addEventListener('canplaythrough', () => {
                    audioPlayer.play().then(() => {
                        isPlaying = true;
                        updatePlayButton();
                        songTitle.textContent = song.title; // æ’­æ”¾æˆåŠŸåç§»é™¤åŠ è½½çŠ¶æ€
                    }).catch(error => {
                        console.error("æ’­æ”¾å¤±è´¥:", error);
                        isPlaying = false;
                        updatePlayButton();
                        songTitle.textContent = "æ’­æ”¾å¤±è´¥";
                    });
                }, { once: true }); // ä½¿ç”¨ { once: true } ç¡®ä¿äº‹ä»¶åªè§¦å‘ä¸€æ¬¡
            }
            
            // ç›‘å¬æ­Œæ›²åˆ—è¡¨çš„ç‚¹å‡»äº‹ä»¶
            musicList.addEventListener('click', (event) => {
                const button = event.target.closest('button');
                if (button) {
                    const index = parseInt(button.dataset.index);
                    playMusic(index);
                }
            });

            // æ’­æ”¾/æš‚åœæŒ‰é’®äº‹ä»¶
            playPauseButton.addEventListener('click', () => {
                if (audioPlayer.paused) {
                    if (currentMusicIndex === -1) {
                        playMusic(0);
                    } else {
                        // ä¿®å¤: åªæœ‰å½“éŸ³é¢‘æºå·²åŠ è½½æ—¶æ‰å°è¯•æ’­æ”¾
                        if (audioPlayer.readyState >= 3) {
                            audioPlayer.play().then(() => {
                                isPlaying = true;
                                updatePlayButton();
                            }).catch(error => {
                                console.error("æ’­æ”¾å¤±è´¥:", error);
                            });
                        }
                    }
                } else {
                    audioPlayer.pause();
                    isPlaying = false;
                    updatePlayButton();
                }
            });

            // ä¸Šä¸€é¦–æŒ‰é’®äº‹ä»¶
            prevButton.addEventListener('click', () => {
                let prevIndex;
                if (currentMusicIndex === -1) {
                    prevIndex = musicData.length - 1;
                } else if (currentMusicIndex > 0) {
                    prevIndex = currentMusicIndex - 1;
                } else {
                    // å¾ªç¯åˆ°æœ€åä¸€é¦–
                    prevIndex = musicData.length - 1;
                }
                playMusic(prevIndex);
            });

            // ä¸‹ä¸€é¦–æŒ‰é’®äº‹ä»¶
            nextButton.addEventListener('click', () => {
                let nextIndex;
                if (currentMusicIndex === -1) {
                    nextIndex = 0;
                } else if (currentMusicIndex < musicData.length - 1) {
                    nextIndex = currentMusicIndex + 1;
                } else {
                    // å¾ªç¯åˆ°ç¬¬ä¸€é¦–
                    nextIndex = 0;
                }
                playMusic(nextIndex);
            });

            // éŸ³é‡æ»‘å—äº‹ä»¶
            volumeSlider.addEventListener('input', (event) => {
                audioPlayer.volume = event.target.value;
            });
            
            // æ’­æ”¾è¿›åº¦æ›´æ–°
            audioPlayer.addEventListener('timeupdate', () => {
                if (!audioPlayer.paused && !isNaN(audioPlayer.duration) && audioPlayer.duration > 0) {
                    const progress = (audioPlayer.currentTime / audioPlayer.duration) * 100;
                    progressFill.style.width = `${progress}%`;
                }
            });

            // å½“æ­Œæ›²ç»“æŸæ—¶è‡ªåŠ¨æ’­æ”¾ä¸‹ä¸€é¦–
            audioPlayer.addEventListener('ended', () => {
                nextButton.click();
            });
            
            // éŸ³ä¹åˆ†ç±»æŒ‰é’®äº‹ä»¶
            categoryButtons.forEach(button => {
                button.addEventListener('click', () => {
                    categoryButtons.forEach(btn => btn.classList.remove('bg-pink-600', 'text-white'));
                    button.classList.add('bg-pink-600', 'text-white');
                    renderMusicList(button.dataset.category);
                });
            });

            // ç¡çœ æ—¥è®°æŒ‰é’®äº‹ä»¶
            journalButton.addEventListener('click', () => {
                journalModal.classList.remove('hidden');
            });

            // å…³é—­æ¨¡æ€æ¡†äº‹ä»¶
            closeModalBtn.addEventListener('click', () => {
                journalModal.classList.add('hidden');
                // é‡ç½®è¡¨å•
                moodIcons.forEach(icon => icon.classList.remove('selected'));
                sleepNote.value = '';
            });

            // æƒ…ç»ªå›¾æ ‡ç‚¹å‡»äº‹ä»¶
            let selectedMood = null;
            moodIcons.forEach(icon => {
                icon.addEventListener('click', () => {
                    moodIcons.forEach(i => i.classList.remove('selected'));
                    icon.classList.add('selected');
                    selectedMood = icon.dataset.mood;
                });
            });

            // ä¿å­˜æ—¥è®°äº‹ä»¶
            saveJournalBtn.addEventListener('click', () => {
                // ä¸å†ä½¿ç”¨ alertï¼Œè€Œæ˜¯ç”¨æ¨¡æ€æ¡†æé†’
                if (!selectedMood) {
                    // æ¨¡æ‹Ÿä¸€ä¸ªæç¤ºä¿¡æ¯
                    const messageBox = document.createElement('div');
                    messageBox.className = "fixed top-10 left-1/2 -translate-x-1/2 p-4 rounded-xl bg-red-500 text-white font-bold transition-all duration-300 transform scale-0 opacity-0 z-50";
                    messageBox.textContent = "è¯·é€‰æ‹©æ‚¨çš„æƒ…ç»ª";
                    document.body.appendChild(messageBox);
                    
                    setTimeout(() => {
                        messageBox.classList.remove('scale-0', 'opacity-0');
                        messageBox.classList.add('scale-100', 'opacity-100');
                    }, 10);

                    setTimeout(() => {
                        messageBox.classList.remove('scale-100', 'opacity-100');
                        messageBox.classList.add('scale-0', 'opacity-0');
                        setTimeout(() => messageBox.remove(), 300);
                    }, 2000);

                    return;
                }
                const note = sleepNote.value;
                const date = new Date().toLocaleDateString('zh-CN');
                journalEntries.push({ date, mood: selectedMood, note });
                
                // æ¨¡æ‹Ÿæ•°æ®å­˜å‚¨åï¼Œå¯ä»¥æ˜¾ç¤ºæ—¥è®°åˆ—è¡¨
                renderJournalEntries();
                journalModal.classList.add('hidden');
                journalListModal.classList.remove('hidden');
            });

            // æ¸²æŸ“æ—¥è®°åˆ—è¡¨
            function renderJournalEntries() {
                journalEntriesList.innerHTML = '';
                if (journalEntries.length === 0) {
                    journalEntriesList.innerHTML = `<p class="text-pink-600 text-center py-8">æš‚æ— æ—¥è®°è®°å½•</p>`;
                    return;
                }
                journalEntries.forEach(entry => {
                    const moodEmoji = {
                        sad: "ğŸ˜”",
                        calm: "ğŸ˜Œ",
                        happy: "ğŸ˜Š"
                    }[entry.mood];
                    const entryDiv = document.createElement('div');
                    entryDiv.className = 'p-4 rounded-xl bg-pink-100 shadow-lg border border-pink-200 text-left text-pink-800';
                    entryDiv.innerHTML = `
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-lg font-bold">${moodEmoji}</span>
                            <span class="text-xs text-pink-500">${entry.date}</span>
                        </div>
                        <p class="text-sm text-pink-600">${entry.note || 'æ— å¤‡æ³¨'}</p>
                    `;
                    journalEntriesList.appendChild(entryDiv);
                });
            }

            // å…³é—­æ—¥è®°åˆ—è¡¨æ¨¡æ€æ¡†
            closeListModalBtn.addEventListener('click', () => {
                journalListModal.classList.add('hidden');
            });
        });
    </script>
</body>
</html>
